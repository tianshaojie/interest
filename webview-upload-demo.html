<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Kitkkat Webview</title>
    <script type="text/ecmascript">
        function chooseImage() {
            window.lfJsObj.chooseImage();
        }
        
        var lfCb = {};
        
        lfCb.chooseImageResult = function(encodedImage) {
            var divImgZone = document.getElementById("imgZone");

            var img = document.createElement("img");
            img.height = 100;
            img.width = 100;
            img.src = "data:image/png;base64," + encodedImage.base64Data;

            divImgZone.appendChild(img);

            var newElement = document.createElement("input");
            newElement.type = "hidden";
            newElement.name = "uploadImg";
            newElement.value = encodedImage.base64Data;

            form1.appendChild(newElement);

            var btnSubmit = document.getElementById("mySubmit");
            btnSubmit.disabled = false;
        }
        
        lfCb.getVersionResult = function(version) {
            alert(version);
            document.getElementById("version").html(version);
        }

    </script>
</head>
<body>
    <form name="form1" id="form1" action="http://dev.henry.com.tw/MultipartFormData/FromBase64.aspx" method="post">
        <input type="button" id="btnChoosePhoto" name="btnChoosePhoto" value="Pick Image" style="height:100px;width:200px;" onclick="chooseImage();" />
        
        <div id="imgZone"></div>
        
        <input type="button" id="mySubmit" value="submit" style="height:100px;width:200px;" onclick="this.disabled = true;form1.submit();" disabled="true" />
        
        <br><br>
        <input type="file"/>
        
        <br><br><br><br>
        <input type="button" value="getVersion" style="height:100px;width:200px;" onclick="getVersion();" /> 
        <span id="version"></span>
    </form>
</body>
</html>
